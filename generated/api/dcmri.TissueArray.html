
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dcmri.TissueArray &#8212; dcmri 0.6.8 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=cd8af66b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=ac3b80e6"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'generated/api/dcmri.TissueArray';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="dcmri.KidneyCortMed" href="dcmri.KidneyCortMed.html" />
    <link rel="prev" title="dcmri.Aorta" href="dcmri.Aorta.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/tristan-logo.jpg" class="logo__image only-light" alt="dcmri 0.6.8 documentation - Home"/>
    <script>document.write(`<img src="../../_static/tristan-logo.jpg" class="logo__image only-dark" alt="dcmri 0.6.8 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tutorial/index.html">
    Tutorial
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../reference/index.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contribute/index.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../releases/index.html">
    Releases
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../about/index.html">
    About
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/QIB-Sheffield/dcmri" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../tutorial/index.html">
    Tutorial
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../reference/index.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contribute/index.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../releases/index.html">
    Releases
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../about/index.html">
    About
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/QIB-Sheffield/dcmri" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../reference/e2e.html">Model catalogue</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dcmri.Tissue.html">dcmri.Tissue</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcmri.Liver.html">dcmri.Liver</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcmri.Kidney.html">dcmri.Kidney</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcmri.Aorta.html">dcmri.Aorta</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">dcmri.TissueArray</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcmri.KidneyCortMed.html">dcmri.KidneyCortMed</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcmri.AortaKidneys.html">dcmri.AortaKidneys</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcmri.AortaLiver.html">dcmri.AortaLiver</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcmri.AortaLiver2scan.html">dcmri.AortaLiver2scan</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/sig.html">MRI signal models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/pk_models.html">PK models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/pk_blocks.html">PK blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/utils.html">Utilities</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../reference/index.html" class="nav-link">Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="../../reference/e2e.html" class="nav-link">Model catalogue</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">dcmri.TissueArray</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="dcmri-tissuearray">
<h1>dcmri.TissueArray<a class="headerlink" href="#dcmri-tissuearray" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="dcmri.TissueArray">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dcmri.</span></span><span class="sig-name descname"><span class="pre">TissueArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(32,</span> <span class="pre">32)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray" title="Link to this definition">#</a></dt>
<dd><p>Pixel-based model for vascular-interstitial tissues.</p>
<p>The model accepts the following parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>shape</strong> (array-like, default=(32,32)): shape of the pixel array, not including the time dimensions. Any number of dimensions are allowed.</p></li>
<li><p><strong>parallel</strong> (bool, default=False): use parallel computing during training or not.</p></li>
<li><p><strong>verbose</strong> (int, default=0): verbosity during computation. 0: no feedback, 1: show progress bar.</p></li>
</ul>
<p><strong>Input function</strong></p>
<ul class="simple">
<li><p><strong>aif</strong> (array-like, default=None): Signal-time curve in a feeding artery. If AIF is set to None, then the parameter ca must be provided (arterial concentrations).</p></li>
<li><p><strong>ca</strong> (array-like, default=None): Plasma concentration (M) in the arterial input. Must be provided when aif = None, ignored otherwise.</p></li>
</ul>
<p><strong>Acquisition parameters</strong></p>
<ul class="simple">
<li><p><strong>t</strong> (array-like, default=None): Time points (sec) of the aif. If t is not provided, the temporal sampling is uniform with interval dt.</p></li>
<li><p><strong>dt</strong> (float, default=1.0): Time interval of the AIF in sec.</p></li>
<li><p><strong>field_strength</strong> (float, default=3.0): Magnetic field strength in T.</p></li>
<li><p><strong>agent</strong> (str, default=’gadoterate’): Contrast agent generic name.</p></li>
<li><p><strong>TR</strong> (float, default=0.005): Repetition time, or time between excitation pulses, in sec.</p></li>
<li><p><strong>FA</strong> (array, default=np.full(shape, 15)): Nominal flip angle in degrees.</p></li>
<li><p><strong>TC</strong> (float, default=0.1): Time to the center of k-space in a saturation-recovery sequence.</p></li>
<li><p><strong>TP</strong> (float, default=0): Preparation delay in a saturation-recovery sequence.</p></li>
<li><p><strong>TS</strong> (float, default=None): Sampling duration, or duration of the readout for a single time point. If not provided, and sampling is uniform, TS is assumed to be equal to the uniform time interval. TS is required if sampling is non-uniform.</p></li>
</ul>
<p><strong>Tracer-kinetic parameters</strong></p>
<ul class="simple">
<li><p><strong>kinetics</strong> (str, default=’HF’): Tracer-kinetic model (see below for options)</p></li>
<li><p><strong>Hct</strong> (float, default=0.45): Hematocrit.</p></li>
<li><p><strong>Fp</strong> (array, default=np.full(shape, 0.01)): Plasma flow, or flow of plasma into the plasma compartment (mL/sec/mL).</p></li>
<li><p><strong>PS</strong> (array, default=np.full(shape, 0.003)): Permeability-surface area product: volume of plasma cleared of indicator per unit time and per unit tissue (mL/sec/mL).</p></li>
<li><p><strong>vp</strong> (array, default=np.full(shape, 0.1)): Plasma volume, or volume fraction of the plasma compartment (mL/mL).</p></li>
<li><p><strong>ve</strong> (array, default=np.full(shape, 0.5)): Extravascular, extracellular volume: volume fraction of the interstitial compartment (mL/mL).</p></li>
<li><p><strong>Ktrans</strong> (array, default=np.full(shape, 0.0023)): Volume transfer constant (mL/sec/mL).</p></li>
<li><p><strong>v</strong> (array, default=np.full(shape, 0.6)): Extracellular volume fraction (mL/mL).</p></li>
</ul>
<p><strong>Water-kinetic parameters</strong></p>
<ul class="simple">
<li><p><strong>water_exchange</strong> (str, default=’fast’): Water exchange regime (‘fast’, ‘none’ or ‘any’).</p></li>
<li><p><strong>PSe</strong> (array, default=np.full(shape, 10)): Transendothelial water permeability-surface area product: PS for water across the endothelium (mL/sec/mL).</p></li>
<li><p><strong>PSc</strong> (array, default=np.full(shape, 10)): Transcytolemmal water permeability-surface area product: PS for water across the cell wall (mL/sec/mL).</p></li>
</ul>
<p><strong>Signal parameters</strong></p>
<ul class="simple">
<li><p><strong>sequence</strong> (str, default=’SS’): imaging sequence.</p></li>
<li><p><strong>R10b</strong> (float, default=1): Precontrast arterial relaxation rate in 1/sec.</p></li>
<li><p><strong>R10</strong> (array, default=np.full(shape, 1)): Precontrast tissue relaxation rate in 1/sec.</p></li>
<li><p><strong>S0</strong> (array, default=np.full(shape, 1)): Scale factor for the MR signal (a.u.).</p></li>
</ul>
<p><strong>Prediction and training parameters</strong></p>
<ul class="simple">
<li><p><strong>n0</strong> (int): number of precontrast baseline signals.</p></li>
<li><p><strong>free</strong> (array-like): list of free parameters. The default depends on the kinetics parameter.</p></li>
<li><p><strong>bounds</strong> (array-like): 2-element list with lower and upper bounds of the free parameters. The default depends on the kinetics parameter.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – override defaults for any of the parameters.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Possible values for the <strong>kinetics</strong> argument, along with relevant parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="s1">&#39;U&#39;</span><span class="p">:</span> <span class="n">uptake</span> <span class="n">tissue</span><span class="o">.</span> <span class="n">Parameters</span><span class="p">:</span> <span class="n">Fp</span>
<span class="o">-</span> <span class="s1">&#39;NX&#39;</span><span class="p">:</span> <span class="n">no</span> <span class="n">tracer</span> <span class="n">exchange</span> <span class="n">tissue</span><span class="o">.</span> <span class="n">Parameters</span><span class="p">:</span> <span class="n">Fp</span><span class="p">,</span> <span class="n">vp</span>
<span class="o">-</span> <span class="s1">&#39;FX&#39;</span><span class="p">:</span> <span class="n">fast</span> <span class="n">tracer</span> <span class="n">exchange</span> <span class="n">tissue</span><span class="o">.</span> <span class="n">Parameters</span><span class="p">:</span> <span class="n">Fp</span><span class="p">,</span> <span class="n">v</span>
<span class="o">-</span> <span class="s1">&#39;WV&#39;</span><span class="p">:</span> <span class="n">weakly</span> <span class="n">vascularized</span> <span class="n">tissue</span> <span class="o">-</span> <span class="n">also</span> <span class="n">known</span> <span class="k">as</span> <span class="o">*</span><span class="n">Tofts</span> <span class="n">model</span><span class="o">*.</span><span class="n">Parameters</span><span class="p">:</span> <span class="n">Ktrans</span><span class="p">,</span> <span class="n">ve</span>
<span class="o">-</span> <span class="s1">&#39;HFU&#39;</span><span class="p">:</span> <span class="n">high</span><span class="o">-</span><span class="n">flow</span> <span class="n">uptake</span> <span class="n">tissue</span> <span class="o">-</span> <span class="n">also</span> <span class="n">known</span> <span class="k">as</span> <span class="o">*</span><span class="n">Patlak</span> <span class="n">model</span><span class="o">*.</span> <span class="n">Parameters</span><span class="p">:</span> <span class="n">vp</span><span class="p">,</span> <span class="n">PS</span>
<span class="o">-</span> <span class="s1">&#39;HF&#39;</span><span class="p">:</span> <span class="n">high</span><span class="o">-</span><span class="n">flow</span> <span class="n">tissue</span> <span class="o">-</span> <span class="n">also</span> <span class="n">known</span> <span class="k">as</span> <span class="o">*</span><span class="n">extended</span> <span class="n">Tofts</span> <span class="n">model</span><span class="o">*</span><span class="p">,</span> <span class="o">*</span><span class="n">extended</span> <span class="n">Patlak</span> <span class="n">model</span><span class="o">*</span> <span class="ow">or</span> <span class="o">*</span><span class="n">general</span> <span class="n">kinetic</span> <span class="n">model</span><span class="o">*.</span> <span class="n">Params</span> <span class="o">=</span> <span class="p">(</span><span class="n">vp</span><span class="p">,</span> <span class="n">PS</span><span class="p">,</span> <span class="n">ve</span><span class="p">,</span> <span class="p">)</span>
<span class="o">-</span> <span class="s1">&#39;2CU&#39;</span><span class="p">:</span> <span class="n">two</span><span class="o">-</span><span class="n">compartment</span> <span class="n">uptake</span> <span class="n">tissue</span><span class="o">.</span> <span class="n">Parameters</span><span class="p">:</span> <span class="n">Fp</span><span class="p">,</span> <span class="n">vp</span><span class="p">,</span> <span class="n">PS</span>
<span class="o">-</span> <span class="s1">&#39;2CX&#39;</span><span class="p">:</span> <span class="n">two</span><span class="o">-</span><span class="n">compartment</span> <span class="n">exchange</span> <span class="n">tissue</span><span class="o">.</span> <span class="n">Parameters</span><span class="p">:</span> <span class="n">Fp</span><span class="p">,</span> <span class="n">vp</span><span class="p">,</span> <span class="n">PS</span><span class="p">,</span> <span class="n">ve</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="dcmri.Tissue.html#dcmri.Tissue" title="dcmri.Tissue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tissue</span></code></a></p>
</div>
<p>Example:</p>
<p>Fit a coarse image of the brain using a 2-compartment exchange model.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dcmri</span> <span class="k">as</span> <span class="nn">dc</span>
</pre></div>
</div>
<p>Use <a class="reference internal" href="dcmri.fake_brain.html#dcmri.fake_brain" title="dcmri.fake_brain"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fake_brain</span></code></a> to generate synthetic test data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">=</span><span class="mi">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">aif</span><span class="p">,</span> <span class="n">gt</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">fake_brain</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>Build a tissue array model and set the constants to match the experimental conditions of the synthetic test data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">TissueArray</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">shape</span> <span class="o">=</span> <span class="n">shape</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">aif</span> <span class="o">=</span> <span class="n">aif</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">dt</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">agent</span> <span class="o">=</span> <span class="s1">&#39;gadodiamide&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">TR</span> <span class="o">=</span> <span class="mf">0.005</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">FA</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">R10</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">gt</span><span class="p">[</span><span class="s1">&#39;T1&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">n0</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">kinetics</span> <span class="o">=</span> <span class="s1">&#39;2CX&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Train the model on the ROI data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">signal</span><span class="p">)</span>
</pre></div>
</div>
<p>Plot the reconstructed maps, along with their standard deviations and the ground truth for reference:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">ref</span><span class="o">=</span><span class="n">gt</span><span class="p">)</span>
</pre></div>
</div>
<p>As the left panel shows, the measured signals are accurately reconstructed by the model. However, while these simulated data are noise-free, they are temporally undersampled (dt = 1.5 sec). As a result the reconstruction of the parameter maps (right panel) is not perfect - as can be seen by comparison against the ground truth, or, in the absence of a ground truth, by inspecting the standard deviations. PS for instance is showing some areas where the value is overestimated and the standard deviations large.</p>
<p>The interstitial volume fraction ve is wrong in a large part of the image, but this is for another reason: much of this tissue has an intact blood brain barrier, and therefore therefore the properties of the extravascular space are fundamentally unmeasureable. This type of error is dangerous because it cannot be detected by inspecting the standard deviations. When no ground truth is available, this therefore risks a misinterpretation of the results. The risk of this type of error can be reduced by applying model selection.</p>
<p>(<a class="reference download internal" download="" href="../../_downloads/e9e1d416a5e7d0826f7b93d182d72019/dcmri-TissueArray-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/d226688b52fc528571368be4c807e19b/dcmri-TissueArray-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/27ab597619a324316e49bbcb7c777807/dcmri-TissueArray-1.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/b7049a448442a9eb5c3137ab070969bb/dcmri-TissueArray-1.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="../../_images/dcmri-TissueArray-1.png" class="plot-directive" src="../../_images/dcmri-TissueArray-1.png" />
</figure>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dcmri.TissueArray.cost" title="dcmri.TissueArray.cost"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cost</span></code></a>(time, signal[, metric])</p></td>
<td><p>Return the goodness-of-fit</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dcmri.TissueArray.export_params" title="dcmri.TissueArray.export_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">export_params</span></code></a>()</p></td>
<td><p>Model parameters with descriptions.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dcmri.TissueArray.load" title="dcmri.TissueArray.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>([file, path, filename])</p></td>
<td><p>Load the saved state of the model</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dcmri.TissueArray.plot" title="dcmri.TissueArray.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>(time, signal[, vmin, vmax, cmap, ref, ...])</p></td>
<td><p>Plot parameter maps</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dcmri.TissueArray.plot_fit" title="dcmri.TissueArray.plot_fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_fit</span></code></a>(time, signal[, hist_kwargs, roi, ...])</p></td>
<td><p>Plot time curves and fits in representative pixels.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dcmri.TissueArray.plot_params" title="dcmri.TissueArray.plot_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_params</span></code></a>([roi, vmin, vmax, ref, fname, show])</p></td>
<td><p>Show parameter distributions in regions of interest.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dcmri.TissueArray.plot_signals" title="dcmri.TissueArray.plot_signals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_signals</span></code></a>(time, signal[, cmap, ref, ...])</p></td>
<td><p>Plot measured and reconstructed dynamic signals.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dcmri.TissueArray.predict" title="dcmri.TissueArray.predict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">predict</span></code></a>(time)</p></td>
<td><p>Predict the data at given time points</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dcmri.TissueArray.save" title="dcmri.TissueArray.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>([file, path, filename])</p></td>
<td><p>Save the current state of the model</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dcmri.TissueArray.train" title="dcmri.TissueArray.train"><code class="xref py py-obj docutils literal notranslate"><span class="pre">train</span></code></a>(time, signal, **kwargs)</p></td>
<td><p>Train the free parameters</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.cost">
<span class="sig-name descname"><span class="pre">cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NRMS'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray.cost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray.cost" title="Link to this definition">#</a></dt>
<dd><p>Return the goodness-of-fit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array-like</em>) – 1D array with time points.</p></li>
<li><p><strong>signal</strong> (<em>array-like</em>) – Array of signal curves. Any number of dimensions is allowed but the last dimension must be time.</p></li>
<li><p><strong>metric</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – Which metric to use - options are ‘RMS’ (Root-mean-square), ‘NRMS’ (Normalized root-mean-square), ‘AIC’ (Akaike information criterion), ‘cAIC’ (Corrected Akaike information criterion for small models) or ‘BIC’ (Bayesian information criterion). Defaults to ‘NRMS’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>goodness of fit in each element of the data array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.export_params">
<span class="sig-name descname"><span class="pre">export_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray.export_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray.export_params" title="Link to this definition">#</a></dt>
<dd><p>Model parameters with descriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary with one item for each model parameter. The key is the parameter symbol (short name), and the value is a 4-element list with [parameter name, value, unit, sdev].</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Model'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcmri.TissueArray.load" title="Link to this definition">#</a></dt>
<dd><p>Load the saved state of the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – complete path of the file. If this is not provided, a file is constructure from path amd filename variables. Defaults to None.</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – path to store the state if file is not provided. This variable is ignored if file is provided. Defaults to current working directory.</p></li>
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – filename to store the state if file is not provided. If no extension is included, the extension ‘.pkl’ is automatically added. This variable is ignored if file is provided. Defaults to ‘Model’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>class instance</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray.plot" title="Link to this definition">#</a></dt>
<dd><p>Plot parameter maps</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array-like</em>) – 1D array with time points.</p></li>
<li><p><strong>signal</strong> (<em>array-like</em>) – Array of signal curves. Any number of dimensions is allowed but the last dimension is time.</p></li>
<li><p><strong>vmin</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Minimum values on display for given parameters. Defaults to {}.</p></li>
<li><p><strong>vmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Maximum values on display for given parameters. Defaults to {}.</p></li>
<li><p><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – matplotlib colormap. Defaults to ‘gray’.</p></li>
<li><p><strong>ref</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Reference images - typically used to display ground truth data when available. Keys are ‘signal’ (array of data in the same shape as signal), and the parameter maps to show. Defaults to None.</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – File path to save image. Defaults to None.</p></li>
<li><p><strong>show</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Determine whether the image is shown or not. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.12)"><strong>NotImplementedError</strong></a> – Features that are not currently implemented.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.plot_fit">
<span class="sig-name descname"><span class="pre">plot_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hist_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray.plot_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray.plot_fit" title="Link to this definition">#</a></dt>
<dd><p>Plot time curves and fits in representative pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array-like</em>) – 1D array with time points.</p></li>
<li><p><strong>signal</strong> (<em>array-like</em>) – Array of signal curves. Any number of dimensions is allowed but the last dimension is time.</p></li>
<li><p><strong>hist_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Keyword arguments to be passed on the matlotlib’s hist() finction. Defaults to {}.</p></li>
<li><p><strong>roi</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary with masks for regions-of-interest to be shown in the plot. if none is provided, the entire array is shown. Defaults to None.</p></li>
<li><p><strong>ref</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Reference images - typically used to display ground truth data when available. Keys are ‘signal’ (array of data in the same shape as signal), and the parameter maps to show. Defaults to None.</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – File path to save image. Defaults to None.</p></li>
<li><p><strong>show</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Determine whether the image is shown or not. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.plot_params">
<span class="sig-name descname"><span class="pre">plot_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray.plot_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray.plot_params" title="Link to this definition">#</a></dt>
<dd><p>Show parameter distributions in regions of interest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>roi</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary with masks for regions-of-interest to be shown in the plot. if none is provided, the entire array is shown. Defaults to None.</p></li>
<li><p><strong>vmin</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Minimum values on display for given parameters. Defaults to {}.</p></li>
<li><p><strong>vmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Maximum values on display for given parameters. Defaults to {}.</p></li>
<li><p><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – matplotlib colormap. Defaults to ‘gray’.</p></li>
<li><p><strong>ref</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Reference images - typically used to display ground truth data when available. Keys are ‘signal’ (array of data in the same shape as ydata), and the parameter maps to show. Defaults to None.</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – File path to save image. Defaults to None.</p></li>
<li><p><strong>show</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Determine whether the image is shown or not. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.plot_signals">
<span class="sig-name descname"><span class="pre">plot_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray.plot_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray.plot_signals" title="Link to this definition">#</a></dt>
<dd><p>Plot measured and reconstructed dynamic signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array-like</em>) – 1D array with time points.</p></li>
<li><p><strong>signal</strong> (<em>array-like</em>) – Array of signal curves. Any number of dimensions is allowed but the last dimension is time.</p></li>
<li><p><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – matplotlib colormap. Defaults to ‘gray’.</p></li>
<li><p><strong>ref</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – Reference images - typically used to display ground truth data when available. Keys are ‘signal’ (array of data in the same shape as signal), and the parameter maps to show. Defaults to None.</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – File path to save image. Defaults to None.</p></li>
<li><p><strong>show</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Determine whether the image is shown or not. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.12)"><strong>NotImplementedError</strong></a> – Features that are not currently implemented.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray.predict" title="Link to this definition">#</a></dt>
<dd><p>Predict the data at given time points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> (<em>array-like</em>) – 1D array with time points.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of predicted y-values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Model'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dcmri.TissueArray.save" title="Link to this definition">#</a></dt>
<dd><p>Save the current state of the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – complete path of the file. If this is not provided, a file is constructure from path amd filename variables. Defaults to None.</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – path to store the state if file is not provided. This variable is ignored if file is provided. Defaults to current working directory.</p></li>
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – filename to store the state if file is not provided. If no extension is included, the extension ‘.pkl’ is automatically added. This variable is ignored if file is provided. Defaults to ‘Model’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>class instance</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dcmri.TissueArray.train">
<span class="sig-name descname"><span class="pre">train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/dcmri/mods_tissue.html#TissueArray.train"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dcmri.TissueArray.train" title="Link to this definition">#</a></dt>
<dd><p>Train the free parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array-like</em>) – 1D array with time points.</p></li>
<li><p><strong>signal</strong> (<em>array-like</em>) – Array of signal curves. Any number of dimensions is allowed but the last dimension must be time.</p></li>
<li><p><strong>kwargs</strong> – any keyword parameters accepted by <a class="reference internal" href="dcmri.Tissue.html#dcmri.Tissue.train" title="dcmri.Tissue.train"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tissue.train</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A reference to the model instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#dcmri.TissueArray" title="dcmri.TissueArray">TissueArray</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="dcmri.Aorta.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">dcmri.Aorta</p>
      </div>
    </a>
    <a class="right-next"
       href="dcmri.KidneyCortMed.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">dcmri.KidneyCortMed</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray"><code class="docutils literal notranslate"><span class="pre">TissueArray</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.cost"><code class="docutils literal notranslate"><span class="pre">TissueArray.cost()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.export_params"><code class="docutils literal notranslate"><span class="pre">TissueArray.export_params()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.load"><code class="docutils literal notranslate"><span class="pre">TissueArray.load()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.plot"><code class="docutils literal notranslate"><span class="pre">TissueArray.plot()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.plot_fit"><code class="docutils literal notranslate"><span class="pre">TissueArray.plot_fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.plot_params"><code class="docutils literal notranslate"><span class="pre">TissueArray.plot_params()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.plot_signals"><code class="docutils literal notranslate"><span class="pre">TissueArray.plot_signals()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.predict"><code class="docutils literal notranslate"><span class="pre">TissueArray.predict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.save"><code class="docutils literal notranslate"><span class="pre">TissueArray.save()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dcmri.TissueArray.train"><code class="docutils literal notranslate"><span class="pre">TissueArray.train()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/generated/api/dcmri.TissueArray.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, dcmri maintainers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>